
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.3.9">
    
    
      
        <title>Configuration - Remote Shuffle Service</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.1d29e8d0.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#configuration-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        <aside class="md-banner md-banner--warning">
          
        </aside>
      </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Remote Shuffle Service" class="md-header__button md-logo" aria-label="Remote Shuffle Service" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Remote Shuffle Service
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Configuration
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/alibaba/RemoteShuffleService" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    alibaba/RemoteShuffleService
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href=".." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="./" class="md-tabs__link md-tabs__link--active">
        Configuration
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../contrib/docs_and_website/" class="md-tabs__link">
        Contributor
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Remote Shuffle Service" class="md-nav__button md-logo" aria-label="Remote Shuffle Service" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Remote Shuffle Service
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/alibaba/RemoteShuffleService" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    alibaba/RemoteShuffleService
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2">
          Configuration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Configuration" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Configuration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Configuration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Configuration
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#important-configurations" class="md-nav__link">
    Important Configurations
  </a>
  
    <nav class="md-nav" aria-label="Important Configurations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#environment-variables" class="md-nav__link">
    Environment Variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#client-side-configurations" class="md-nav__link">
    Client-side Configurations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rss-master-configurations" class="md-nav__link">
    RSS Master Configurations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rss-worker-configurations" class="md-nav__link">
    RSS Worker Configurations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metrics" class="md-nav__link">
    Metrics
  </a>
  
    <nav class="md-nav" aria-label="Metrics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metricsproperties" class="md-nav__link">
    metrics.properties
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tuning" class="md-nav__link">
    Tuning
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#worker-recover-status-after-restart" class="md-nav__link">
    Worker Recover Status After Restart
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-rss-configuration-list" class="md-nav__link">
    APPENDIX RSS Configuration List
  </a>
  
    <nav class="md-nav" aria-label="APPENDIX RSS Configuration List">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#environment-variablesrss-envsh" class="md-nav__link">
    Environment Variables(rss-env.sh)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#defaultconfigsrss-defaultsconf" class="md-nav__link">
    DefaultConfigs(rss-defaults.conf)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3">
          Contributor
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Contributor" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Contributor
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../contrib/docs_and_website/" class="md-nav__link">
        Docs and Website
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#important-configurations" class="md-nav__link">
    Important Configurations
  </a>
  
    <nav class="md-nav" aria-label="Important Configurations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#environment-variables" class="md-nav__link">
    Environment Variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#client-side-configurations" class="md-nav__link">
    Client-side Configurations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rss-master-configurations" class="md-nav__link">
    RSS Master Configurations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rss-worker-configurations" class="md-nav__link">
    RSS Worker Configurations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metrics" class="md-nav__link">
    Metrics
  </a>
  
    <nav class="md-nav" aria-label="Metrics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metricsproperties" class="md-nav__link">
    metrics.properties
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tuning" class="md-nav__link">
    Tuning
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#worker-recover-status-after-restart" class="md-nav__link">
    Worker Recover Status After Restart
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-rss-configuration-list" class="md-nav__link">
    APPENDIX RSS Configuration List
  </a>
  
    <nav class="md-nav" aria-label="APPENDIX RSS Configuration List">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#environment-variablesrss-envsh" class="md-nav__link">
    Environment Variables(rss-env.sh)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#defaultconfigsrss-defaultsconf" class="md-nav__link">
    DefaultConfigs(rss-defaults.conf)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/alibaba/RemoteShuffleService/edit/master/docs/configuration.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h1 id="configuration-guide">Configuration Guide</h1>
<p>This documentation contains RSS configuration details and a tuning guide.</p>
<h2 id="important-configurations">Important Configurations</h2>
<h3 id="environment-variables">Environment Variables</h3>
<ul>
<li><code>RSS_WORKER_MEMORY=4g</code></li>
<li><code>RSS_WORKER_OFFHEAP_MEMORY=24g</code></li>
</ul>
<p>RSS workers tend to improve performance by using off-heap buffers.
Off-heap memory requirement can be estimated as below:</p>
<pre><code class="language-math">numDirs = `rss.worker.base.dirs`              # the amount of directory will be used by RSS storage
bufferSize = `rss.worker.flush.buffer.size`   # the amount of memory will be used by a single flush buffer 
off-heap-memory = bufferSize * estimatedTasks * 2 + network memory
</code></pre>
<p>For example, if an RSS worker has 10 storage directories or disks and the buffer size is set to 256 KiB.
The necessary off-heap memory is 10 GiB.</p>
<p>NetWork memory will be consumed when netty reads from a TPC channel, there will need some extra
memory. Empirically, RSS worker off-heap memory should be set to <code>(numDirs  * bufferSize * 1.2)</code>.</p>
<h3 id="client-side-configurations">Client-side Configurations</h3>
<table>
<thead>
<tr>
<th>Key</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>spark.rss.master.address</td>
<td></td>
<td>Single master mode: address(host:port) of RSS Master,necessary</td>
</tr>
<tr>
<td>spark.rss.ha.master.hosts</td>
<td></td>
<td>Ha mode: hosts of RSS Master</td>
</tr>
<tr>
<td>spark.rss.master.host</td>
<td></td>
<td>Single master: host of RSS Master</td>
</tr>
<tr>
<td>spark.rss.master.port</td>
<td></td>
<td>Port of RSS Master</td>
</tr>
<tr>
<td>spark.rss.push.data.buffer.size</td>
<td>64k</td>
<td>Amount of reducer partition buffer memory. Buffered data will be sent to RSS worker if buffer is full. For performance consideration keep this buffer size higher than 32K. Example: If reducer amount is 2000,buffer size is 64K and task will consume up to 64K * 2000 = 125 M heap memory.</td>
</tr>
<tr>
<td>spark.rss.push.data.queue.capacity</td>
<td>512</td>
<td>Push buffer queue size for a task. The maximum memory is <code>spark.rss.push.data.buffer.size</code> * <code>spark.rss.push.data.queue.capacity</code>(64K * 512 = 32M)</td>
</tr>
<tr>
<td>spark.rss.push.data.maxReqsInFlight</td>
<td>32</td>
<td>Amount of netty in-flight requests. The maximum memory is <code>rss.push.data.maxReqsInFlight</code> * <code>spark.rss.push.data.buffer.size</code> * compression ratio(1 in worst case)(64K * 32 = 2M )</td>
</tr>
<tr>
<td>spark.rss.limit.inflight.timeout</td>
<td>240s</td>
<td>Timeout for netty in-flight requests to be done.</td>
</tr>
<tr>
<td>spark.rss.fetch.chunk.timeout</td>
<td>120s</td>
<td>Timeout for a task to fetch chunk.</td>
</tr>
<tr>
<td>spark.rss.fetch.chunk.maxReqsInFlight</td>
<td>3</td>
<td>Amount of in-flight chunk fetch request.</td>
</tr>
<tr>
<td>spark.rss.data.io.threads</td>
<td>8</td>
<td>Amount of thread count for task to push data.</td>
</tr>
<tr>
<td>spark.rss.push.data.replicate</td>
<td>true</td>
<td>When true the RSS worker will replicate shuffle data to another RSS worker to ensure shuffle data won't be lost after the node failure.</td>
</tr>
<tr>
<td>spark.rss.application.heartbeatInterval</td>
<td>10s</td>
<td>Application heartbeat interval.</td>
</tr>
<tr>
<td>spark.rss.stage.end.timeout</td>
<td>240s</td>
<td>Time out for StageEnd.</td>
</tr>
<tr>
<td>spark.rss.shuffle.writer.mode</td>
<td>hash</td>
<td>RSS support two different shuffle writers. Hash-based shuffle writer works fine when shuffle partition count is normal. Sort-based shuffle writer works fine when memory pressure is high or shuffle partition count it huge.</td>
</tr>
<tr>
<td>spark.rss.client.compression.codec</td>
<td>lz4</td>
<td>The codec used to compress shuffle data. By default, RSS provides two codecs: <code>lz4</code> and <code>zstd</code>.</td>
</tr>
<tr>
<td>spark.rss.client.compression.zstd.level</td>
<td>1</td>
<td>Compression level for Zstd compression codec, its value should be an integer between -5 and 22. Increasing the compression level will result in better compression at the expense of more CPU and memory.</td>
</tr>
</tbody>
</table>
<h3 id="rss-master-configurations">RSS Master Configurations</h3>
<table>
<thead>
<tr>
<th>Key</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>rss.worker.timeout</td>
<td>120s</td>
<td></td>
</tr>
<tr>
<td>rss.application.timeout</td>
<td>120s</td>
<td></td>
</tr>
<tr>
<td>rss.rpc.io.clientThreads</td>
<td>min{64, availableCores}</td>
<td></td>
</tr>
<tr>
<td>rss.rpc.io.serverThreads</td>
<td>min{64, availableCores}</td>
<td></td>
</tr>
<tr>
<td>rss.master.port.maxretry</td>
<td>1</td>
<td>When RSS master port is occupied,we will retry for maxretry times.</td>
</tr>
<tr>
<td>rss.rpc.io.numConnectionsPerPeer</td>
<td>1</td>
<td>Connections between hosts are reused in order to reduce connection.</td>
</tr>
<tr>
<td>rss.ha.enabled</td>
<td>false</td>
<td>When true, RSS will activate raft implementation and sync shared data on master clusters.</td>
</tr>
<tr>
<td>rss.ha.master.hosts</td>
<td></td>
<td>Master hosts address list.</td>
</tr>
<tr>
<td>rss.ha.service.id</td>
<td></td>
<td>When this config is empty, RSS master will refuse to startup.</td>
</tr>
<tr>
<td>rss.ha.nodes.{serviceId}</td>
<td></td>
<td>Nodes list that deploy RSS master. ServiceId is <code>rss.ha.service.id</code></td>
</tr>
<tr>
<td>rss.ha.address.{serviceId}.{node}</td>
<td>localhost:9872</td>
<td>RSS master's rpc address for raft implementation. Port can be ignored and defaults to 9872</td>
</tr>
<tr>
<td>rss.ha.port.{serviceId}.{node}</td>
<td>9872</td>
<td>HA port between multi-master, default port is 9872. If you want to customize the HA port, you need to list all nodes' ports.</td>
</tr>
<tr>
<td>rss.ha.storage.dir</td>
<td>/tmp/ratis</td>
<td>Directory of RSS master to store ratis metadata.</td>
</tr>
<tr>
<td>rss.ha.ratis.snapshot.auto.trigger.enabled</td>
<td>true</td>
<td>Weather to enable raft implementation's snapshot.</td>
</tr>
<tr>
<td>rss.ha.ratis.snapshot.auto.trigger.threshold</td>
<td>200000</td>
<td></td>
</tr>
<tr>
<td>rss.offer.slots.algorithm</td>
<td>roundrobin</td>
<td>There is two algorithms loadaware and roundrobin. loadaware is recommended unless you encountered some malfunctions.</td>
</tr>
</tbody>
</table>
<h3 id="rss-worker-configurations">RSS Worker Configurations</h3>
<table>
<thead>
<tr>
<th>Key</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>rss.worker.base.dirs</td>
<td></td>
<td>Directory list to store shuffle data. Storage size limit can be set for each directory. For the sake of performance, there should be no more than 2 directories on the same disk partition if you are using HDD. There can be 4 or more directories can run on the same disk partition if you are using SSD. For example: dir1[:capacity=][:disktype=][:flushthread=],dir2[:capacity=][:disktype=][:flushthread=]</td>
</tr>
<tr>
<td>rss.worker.workingDirName</td>
<td><code>hadoop/rss-worker/shuffle_data</code></td>
<td></td>
</tr>
<tr>
<td>rss.worker.flush.buffer.size</td>
<td>256K</td>
<td></td>
</tr>
<tr>
<td>rss.worker.flush.queue.capacity</td>
<td>512</td>
<td>Size of buffer queue attached to each storage directory. Each flush buffer queue consumes <code>rss.worker.flush.buffer.size</code> * <code>rss.worker.flush.queue.capacity</code>(256K * 512 = 128M) off-heap memory. This config can be used to estimate RSS worker's off-heap memory demands.</td>
</tr>
<tr>
<td>rss.chunk.size</td>
<td>8m</td>
<td>Max chunk size of reducer's merged shuffle data. For example, if a reducer's shuffle data is 128 M and the data will need 16 fetch chunk requests to fetch.</td>
</tr>
<tr>
<td>rss.push.io.threads</td>
<td><code>rss.worker.base.dirs</code> * 2</td>
<td></td>
</tr>
<tr>
<td>rss.fetch.io.threads</td>
<td><code>rss.worker.base.dirs</code> * 2</td>
<td></td>
</tr>
<tr>
<td>rss.master.address</td>
<td></td>
<td>Single master mode: address(host:port) of RSS Master,necessary</td>
</tr>
<tr>
<td>rss.master.host</td>
<td></td>
<td>Single master: host of RSS Master</td>
</tr>
<tr>
<td>rss.ha.master.hosts</td>
<td></td>
<td>Ha mode: hosts of RSS Master</td>
</tr>
<tr>
<td>rss.master.port</td>
<td></td>
<td>Port of RSS Master</td>
</tr>
<tr>
<td>rss.worker.graceful.shutdown</td>
<td>false</td>
<td>When true, during worker shutdown, the worker will wait for all released slots to be committed or destroyed in time of <code>rss.worker.checkSlots.timeout</code> and wait sorting partition files in time of <code>rss.worker.partitionSorterCloseAwaitTime</code>.</td>
</tr>
<tr>
<td>rss.worker.shutdown.timeout</td>
<td>600s</td>
<td>The worker's graceful shutdown time.</td>
</tr>
<tr>
<td>rss.worker.recoverPath</td>
<td><code>${System.getProperty("java.io.tmpdir")}/recover</code></td>
<td></td>
</tr>
<tr>
<td>rss.worker.partitionSorterCloseAwaitTime</td>
<td>120s</td>
<td>The wait time of waiting for sorting partition files during worker graceful shutdown.</td>
</tr>
<tr>
<td>rss.worker.checkSlots.interval</td>
<td>1s</td>
<td></td>
</tr>
<tr>
<td>rss.worker.checkSlots.timeout</td>
<td>480s</td>
<td>The wait time of waiting for the released slots to be committed or destroyed during worker graceful shutdown.</td>
</tr>
</tbody>
</table>
<h3 id="metrics">Metrics</h3>
<table>
<thead>
<tr>
<th>Key</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>rss.metrics.system.enabled</td>
<td>true</td>
<td></td>
</tr>
<tr>
<td>rss.master.prometheus.metric.host</td>
<td>0.0.0.0</td>
<td></td>
</tr>
<tr>
<td>rss.master.prometheus.metric.port</td>
<td>9098</td>
<td></td>
</tr>
<tr>
<td>rss.worker.prometheus.metric.host</td>
<td>0.0.0.0</td>
<td></td>
</tr>
<tr>
<td>rss.worker.prometheus.metric.port</td>
<td>9096</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="metricsproperties">metrics.properties</h4>
<pre><code class="language-properties">*.sink.csv.class=com.aliyun.emr.rss.common.metrics.sink.CsvSink
*.sink.prometheusServlet.class=com.aliyun.emr.rss.common.metrics.sink.PrometheusServlet
</code></pre>
<h2 id="tuning">Tuning</h2>
<p>Assume we have a cluster described as below:
5 RSS Workers with 20 GB off-heap memory and 10 disks.
As we need to reserve 20% off-heap memory for netty,
so we could assume 16 GB off-heap memory can be used for flush buffers.</p>
<p>If <code>spark.rss.push.data.buffer.size</code> is 64 KB, we can have in-flight requests up to 1310720.
If you have 8192 mapper tasks, you could set <code>spark.rss.push.data.maxReqsInFlight=160</code> to gain performance improvements.</p>
<p>If <code>rss.worker.flush.buffer</code> is 256 KB, we can have total slots up to 327680 slots.
So we should set <code>rss.worker.flush.queue.capacity=6553</code> and each RSS worker has 65530 slots.</p>
<h2 id="worker-recover-status-after-restart">Worker Recover Status After Restart</h2>
<p><code>ShuffleClient</code> records the shuffle partition location's host, service port, and filename,
to support workers recovering reading existing shuffle data after worker restart,
during worker shutdown, workers should store the meta about reading shuffle partition files in LevelDB,
and restore the meta after restarting workers, also workers should keep a stable service port to support
<code>ShuffleClient</code> retry reading data. Users should set <code>rss.worker.graceful.shutdown</code> to <code>true</code> and
set below service port with stable port to support worker recover status.</p>
<pre><code>rss.worker.rpc.port
rss.fetchserver.port
rss.pushserver.port
rss.replicateserver.port
</code></pre>
<h2 id="appendix-rss-configuration-list">APPENDIX RSS Configuration List</h2>
<h3 id="environment-variablesrss-envsh">Environment Variables(rss-env.sh)</h3>
<table>
<thead>
<tr>
<th>Key</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>RSS_HOME</code></td>
<td><code>$(cd "`dirname "$0"`"/..; pwd)</code></td>
<td></td>
</tr>
<tr>
<td><code>RSS_CONF_DIR</code></td>
<td><code>${RSS_CONF_DIR:-"${RSS_HOME}/conf"}</code></td>
<td></td>
</tr>
<tr>
<td><code>RSS_MASTER_MEMORY</code></td>
<td>1 GB</td>
<td></td>
</tr>
<tr>
<td><code>RSS_WORKER_MEMORY</code></td>
<td>1 GB</td>
<td></td>
</tr>
<tr>
<td><code>RSS_WORKER_OFFHEAP_MEMORY</code></td>
<td>1 GB</td>
<td></td>
</tr>
<tr>
<td><code>RSS_MASTER_JAVA_OPTS</code></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>RSS_WORKER_JAVA_OPTS</code></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>RSS_PID_DIR</code></td>
<td><code>${RSS_HOME}/pids</code></td>
<td></td>
</tr>
<tr>
<td><code>RSS_LOG_DIR</code></td>
<td><code>${RSS_HOME}/logs</code></td>
<td></td>
</tr>
<tr>
<td><code>RSS_SSH_OPTS</code></td>
<td><code>-o StrictHostKeyChecking=no</code></td>
<td></td>
</tr>
<tr>
<td><code>RSS_SLEEP</code></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="defaultconfigsrss-defaultsconf">DefaultConfigs(rss-defaults.conf)</h3>
<table>
<thead>
<tr>
<th>Key</th>
<th>Default</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>rss.push.data.buffer.size</code></td>
<td>64 KiB</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td><code>rss.push.data.queue.capacity</code></td>
<td>512</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td><code>rss.push.data.maxReqsInFlight</code></td>
<td>32</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td><code>rss.fetch.chunk.timeout</code></td>
<td>120 s</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td><code>rss.fetch.chunk.maxReqsInFlight</code></td>
<td>3</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td><code>rss.push.data.replicate</code></td>
<td>true</td>
<td>bool</td>
<td></td>
</tr>
<tr>
<td><code>rss.worker.timeout</code></td>
<td>120 s</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td><code>rss.application.timeout</code></td>
<td>120 s</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td><code>rss.remove.shuffle.delay</code></td>
<td>60 s</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td><code>rss.get.blacklist.delay</code></td>
<td>30s</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td><code>rss.master.address</code></td>
<td><code>Utils.localHostName() + ":" + 9097</code></td>
<td>String</td>
<td></td>
</tr>
<tr>
<td><code>rss.master.host</code></td>
<td><code>rss.master.address</code> hostname part</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td><code>rss.master.port</code></td>
<td><code>rss.master.address</code> port part</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td><code>rss.worker.replicate.numThreads</code></td>
<td>64</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td><code>rss.worker.asyncCommitFiles.numThreads</code></td>
<td>32</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td><code>rss.worker.flush.buffer.size</code></td>
<td>256 KiB</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td><code>rss.worker.flush.queue.capacity</code></td>
<td>512</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td><code>rss.worker.fetch.chunk.size</code></td>
<td>8 MiB</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td><code>rss.rpc.max.parallelism</code></td>
<td>1024</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td><code>rss.register.shuffle.max.retry</code></td>
<td>3</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td><code>rss.register.shuffle.retry.wait</code></td>
<td>3s</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td><code>rss.reserve.slots.max.retry</code></td>
<td>3</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td><code>rss.reserve.slots.retry.wait</code></td>
<td>3s</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td><code>rss.flush.timeout</code></td>
<td>240s</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td><code>rss.application.expire.duration</code></td>
<td>1d</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td><code>rss.worker.base.dirs</code></td>
<td></td>
<td>String</td>
<td></td>
</tr>
<tr>
<td><code>rss.worker.workingDirName</code></td>
<td><code>hadoop/rss-worker/shuffle_data</code></td>
<td>String</td>
<td></td>
</tr>
<tr>
<td><code>rss.worker.base.dir.prefix</code></td>
<td><code>/mnt/disk</code></td>
<td>String</td>
<td></td>
</tr>
<tr>
<td><code>rss.worker.base.dir.number</code></td>
<td>16</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td><code>rss.worker.unavailable.dirs.remove</code></td>
<td>true</td>
<td>bool</td>
<td></td>
</tr>
<tr>
<td><code>rss.stage.end.timeout</code></td>
<td>120 s</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td><code>rss.limit.inflight.timeout</code></td>
<td>240 s</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td><code>rss.limit.inflight.sleep.delta</code></td>
<td>50 ms</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td><code>rss.pushserver.port</code></td>
<td>0</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td><code>rss.fetchserver.port</code></td>
<td>0</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td><code>rss.register.worker.timeout</code></td>
<td>180 s</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td><code>rss.master.port.maxretry</code></td>
<td>1</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td><code>rss.pushdata.retry.thread.num</code></td>
<td>8</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td><code>rss.metrics.system.enabled</code></td>
<td>true</td>
<td>bool</td>
<td></td>
</tr>
<tr>
<td><code>rss.metrics.system.timer.sliding.size</code></td>
<td>4000</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td><code>rss.metrics.system.sample.rate</code></td>
<td>1</td>
<td>double</td>
<td></td>
</tr>
<tr>
<td><code>rss.metrics.system.sliding.window.size</code></td>
<td>4096</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td><code>rss.inner.metrics.size</code></td>
<td>4096</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td><code>rss.master.prometheus.metric.port</code></td>
<td>9098</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td><code>rss.worker.prometheus.metric.port</code></td>
<td>9096</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td><code>rss.merge.push.data.threshold</code></td>
<td>1 MiB</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td><code>rss.driver.metaService.port</code></td>
<td>0</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td><code>rss.worker.closeIdleConnections</code></td>
<td>false</td>
<td>bool</td>
<td></td>
</tr>
<tr>
<td><code>rss.ha.enabled</code></td>
<td>false</td>
<td>bool</td>
<td></td>
</tr>
<tr>
<td><code>rss.ha.master.hosts</code></td>
<td><code>rss.master.host</code></td>
<td>String</td>
<td></td>
</tr>
<tr>
<td><code>rss.ha.service.id</code></td>
<td></td>
<td>String</td>
<td></td>
</tr>
<tr>
<td><code>rss.ha.nodes.&lt;serviceId&gt;</code></td>
<td></td>
<td>String</td>
<td></td>
</tr>
<tr>
<td><code>rss.ha.address.&lt;serviceId&gt;.&lt;nodeId&gt;</code></td>
<td></td>
<td>String</td>
<td></td>
</tr>
<tr>
<td><code>rss.ha.port</code></td>
<td>9872</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td><code>rss.ha.storage.dir</code></td>
<td><code>/tmp/ratis</code></td>
<td>String</td>
<td></td>
</tr>
<tr>
<td><code>rss.device.monitor.enabled</code></td>
<td>true</td>
<td>boolean</td>
<td>Whether to enable device monitor</td>
</tr>
<tr>
<td><code>rss.device.monitor.checklist</code></td>
<td><code>readwrite,diskusage</code></td>
<td>String</td>
<td>Select what the device needs to detect ; The options include iohang, readOrWrite and diskUsage.</td>
</tr>
<tr>
<td><code>rss.disk.check.interval</code></td>
<td>15s</td>
<td>String</td>
<td>How frequency DeviceMonitor checks IO hang</td>
</tr>
<tr>
<td><code>rss.slow.flush.interval</code></td>
<td>10s</td>
<td>String</td>
<td>Threshold that determines slow flush</td>
</tr>
<tr>
<td><code>rss.sys.block.dir</code></td>
<td>"/sys/block"</td>
<td>String</td>
<td>Directory to read device stat and inflight</td>
</tr>
<tr>
<td><code>rss.create.file.writer.retry.count</code></td>
<td>3</td>
<td>int</td>
<td>Worker create FileWriter retry count</td>
</tr>
<tr>
<td><code>rss.worker.checkFileCleanRetryTimes</code></td>
<td>3</td>
<td>int</td>
<td>The number of retries for a worker to check if the working directory is cleaned up before registering with the master.</td>
</tr>
<tr>
<td><code>rss.worker.checkFileCleanTimeoutMs</code></td>
<td>1000ms</td>
<td>String</td>
<td>The wait time per retry for a worker to check if the working directory is cleaned up before registering with the master.</td>
</tr>
<tr>
<td><code>rss.worker.diskFlusherShutdownTimeoutMs</code></td>
<td>3000ms</td>
<td>String</td>
<td>The timeout to wait for diskOperators to execute remaining jobs before being shutdown immediately.</td>
</tr>
<tr>
<td><code>rss.worker.status.check.timeout</code></td>
<td>10s</td>
<td>String</td>
<td>Worker device check timeout</td>
</tr>
<tr>
<td><code>rss.worker.offheap.memory.critical.ratio</code></td>
<td>0.9</td>
<td>float</td>
<td>Worker direct memory usage critical level ratio</td>
</tr>
<tr>
<td><code>rss.worker.memory.check.interval</code></td>
<td>10</td>
<td>int</td>
<td>Timeunit is millisecond</td>
</tr>
<tr>
<td><code>rss.worker.memory.report.interval</code></td>
<td>10s</td>
<td>String</td>
<td>Timeunit is second</td>
</tr>
<tr>
<td><code>rss.partition.split.threshold</code></td>
<td>256m</td>
<td>String</td>
<td>Shuffle file size threshold, if file size exceeds this, trigger split</td>
</tr>
<tr>
<td><code>rss.partition.split.minimum.size</code></td>
<td>1m</td>
<td>String</td>
<td>Minimum Shuffle file size to trigger split, file size smaller than this will not trigger split</td>
</tr>
<tr>
<td><code>rss.partition.split.mode</code></td>
<td>soft</td>
<td>String</td>
<td>soft, the shuffle file size might be larger than split threshold ; hard, the shuffle file size will be limited to split threshold</td>
</tr>
<tr>
<td><code>rss.client.split.pool.size</code></td>
<td>8</td>
<td>int</td>
<td>Thread number to process shuffle split request in shuffle client.</td>
</tr>
<tr>
<td><code>rss.partition.sort.timeout</code></td>
<td>220</td>
<td>int</td>
<td>Timeout for a shuffle file to sort</td>
</tr>
<tr>
<td><code>rss.partition.sort.memory.max.ratio</code></td>
<td>0.1</td>
<td>double</td>
<td>Max ratio of sort memory</td>
</tr>
<tr>
<td><code>rss.pause.pushdata.memory.ratio</code></td>
<td>0.85</td>
<td>double</td>
<td>If direct memory usage reach this limit, worker will stop receive from executor</td>
</tr>
<tr>
<td><code>rss.pause.replicate.memory.ratio</code></td>
<td>0.95</td>
<td>double</td>
<td>If direct memory usage reach  this limit, worker will stop receive from executor and other worker</td>
</tr>
<tr>
<td><code>rss.resume.memory.ratio</code></td>
<td>0.5</td>
<td>double</td>
<td>If direct memory usage is less than this  limit, worker will resume receive</td>
</tr>
<tr>
<td><code>rss.worker.reserveForSingleSort.memory</code></td>
<td>1mb</td>
<td>string</td>
<td>Reserve memory when sorting a shuffle file off-heap.</td>
</tr>
<tr>
<td><code>rss.storage.hint</code></td>
<td>memory</td>
<td>string</td>
<td>Available enumerations : memory,ssd,hdd,hdfs,oss</td>
</tr>
<tr>
<td><code>rss.initial.partition.size</code></td>
<td>64m</td>
<td>string</td>
<td>Initial estimated partition size, default is 64m, and it will change according to runtime stats.</td>
</tr>
<tr>
<td><code>rss.minimum.estimate.partition.size</code></td>
<td>8m</td>
<td>string</td>
<td>Ignore partition size smaller than this configuration for partition size estimation.</td>
</tr>
<tr>
<td><code>rss.disk.flusher.useMountPoint</code></td>
<td>bool</td>
<td>true</td>
<td>True means that each disk will get one disk flush. False means that a disk flush will be attached to a working directory.</td>
</tr>
<tr>
<td><code>rss.rpc.askTimeout</code></td>
<td>240s</td>
<td>string</td>
<td>Timeout for sending rpc messages.</td>
</tr>
<tr>
<td><code>rss.rpc.lookupTimeout</code></td>
<td>30s</td>
<td>string</td>
<td>Timeout for creating new connection. This value should be less than <code>rss.worker.timeout</code> to avoid worker lost in HA mode.</td>
</tr>
<tr>
<td><code>rss.haclient.rpc.askTimeout</code></td>
<td>30s</td>
<td>string</td>
<td>Timeout for HA client sending rpc messages. This value should be less than <code>rss.worker.timeout</code> to avoid worker lost in HA mode.</td>
</tr>
<tr>
<td><code>rss.disk.groups</code></td>
<td>5</td>
<td>int</td>
<td>This value determines how many groups the disks will be separate. It can be calculated as following:<code>(total disk count / ssd disk count ) + 1</code>.</td>
</tr>
<tr>
<td><code>rss.disk.group.gradient</code></td>
<td>0.1</td>
<td>double</td>
<td>This value means how many more workload will be placed into a faster disk group than a slower group.</td>
</tr>
<tr>
<td><code>rss.disk.minimum.reserve.size</code></td>
<td>10G</td>
<td>long</td>
<td>The minimum size reserved on a disk. If disk's usable space is less than this, then Master will try not to allocate slots on it.</td>
</tr>
</tbody>
</table>

              
            </article>
            
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
      
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href=".." class="md-footer__link md-footer__link--prev" aria-label="Previous: Home" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Home
            </div>
          </div>
        </a>
      
      
        
        <a href="../contrib/docs_and_website/" class="md-footer__link md-footer__link--next" aria-label="Next: Docs and Website" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Docs and Website
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    <a href="" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.indexes", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking"], "search": "../assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": "0.2.0-SNAPSHOT"}</script>
    
    
      <script src="../assets/javascripts/bundle.6c7ad80a.min.js"></script>
      
    
  </body>
</html>